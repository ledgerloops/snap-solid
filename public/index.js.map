{"version":3,"sources":["../src/index.ts"],"names":["window","onload","console","log","solid","auth","trackSession","session","document","getElementById","innerHTML","style","display","webId"],"mappings":";;AAAA;AAEAA,MAAM,CAACC,MAAP,GAAgB,MAAY;AAC1BC,EAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACEH,EAAAA,MAAF,CAMGI,KANH,CAMSC,IANT,CAMcC,YANd,CAM4BC,OAAD,IAAgC;AACzD,QAAI,CAACA,OAAL,EAAc;AACZL,MAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ;AACAK,MAAAA,QAAQ,CAACC,cAAT,CACE,aADF,EAEEC,SAFF;AAGAF,MAAAA,QAAQ,CAACC,cAAT,CAAwB,IAAxB,EAA8BE,KAA9B,CAAoCC,OAApC,GAA8C,MAA9C;AACD,KAND,MAMO;AACLV,MAAAA,OAAO,CAACC,GAAR,wBAA4BI,OAAO,CAACM,KAApC;AAEAL,MAAAA,QAAQ,CAACC,cAAT,CACE,aADF,EAEEC,SAFF,0BAE8BH,OAAO,CAACM,KAFtC;AAGAL,MAAAA,QAAQ,CAACC,cAAT,CAAwB,IAAxB,EAA8BE,KAA9B,CAAoCC,OAApC,GAA8C,OAA9C;AACD;AACF,GArBD;AAsBD,CAxBD","sourcesContent":["// import { SnapChecker } from \"snap-checker\";\n\nwindow.onload = (): void => {\n  console.log(\"document ready\");\n  ((window as unknown) as {\n    solid: {\n      auth: {\n        trackSession: (callback: (session: { webId: string }) => void) => void;\n      };\n    };\n  }).solid.auth.trackSession((session: { webId: string }) => {\n    if (!session) {\n      console.log(\"The user is not logged in\");\n      document.getElementById(\n        \"loginBanner\"\n      ).innerHTML = `<button onclick=\"solid.auth.login(window.location.toString())\">Log in or register</button>`;\n      document.getElementById(\"ui\").style.display = \"none\";\n    } else {\n      console.log(`Logged in as ${session.webId}`);\n\n      document.getElementById(\n        \"loginBanner\"\n      ).innerHTML = `Logged in as ${session.webId} <button onclick=\"solid.auth.logout()\">Log out</button>`;\n      document.getElementById(\"ui\").style.display = \"block\";\n    }\n  });\n};\n"],"file":"index.js"}