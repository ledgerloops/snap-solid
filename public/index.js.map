{"version":3,"sources":["../src/index.ts"],"names":["checkInbox","webId","profileDoc","console","log","window","onload","solid","auth","trackSession","session","document","getElementById","innerHTML","style","display"],"mappings":";;AAEA;;;;;;SAEeA,U;;;;;kCAAf,WAA0BC,KAA1B,EAAwD;AACtD,QAAMC,UAAU,SAAS,gCAAYD,KAAZ,CAAzB;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAYF,UAAZ;AACD,G;;;;AAEDG,MAAM,CAACC,MAAP,GAAgB,MAAY;AAC1BH,EAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACEC,EAAAA,MAAF,CAMGE,KANH,CAMSC,IANT,CAMcC,YANd,CAM4BC,OAAD,IAAgC;AACzD,QAAI,CAACA,OAAL,EAAc;AACZP,MAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ;AACAO,MAAAA,QAAQ,CAACC,cAAT,CACE,aADF,EAEEC,SAFF;AAGAF,MAAAA,QAAQ,CAACC,cAAT,CAAwB,IAAxB,EAA8BE,KAA9B,CAAoCC,OAApC,GAA8C,MAA9C;AACD,KAND,MAMO;AACLZ,MAAAA,OAAO,CAACC,GAAR,wBAA4BM,OAAO,CAACT,KAApC;AACAD,MAAAA,UAAU,CAACU,OAAO,CAACT,KAAT,CAAV;AACAU,MAAAA,QAAQ,CAACC,cAAT,CACE,aADF,EAEEC,SAFF,0BAE8BH,OAAO,CAACT,KAFtC;AAGAU,MAAAA,QAAQ,CAACC,cAAT,CAAwB,IAAxB,EAA8BE,KAA9B,CAAoCC,OAApC,GAA8C,OAA9C;AACD;AACF,GArBD;AAsBD,CAxBD","sourcesContent":["// import { SnapChecker } from \"snap-checker\";\n\nimport { getDocument } from \"./documentCache\";\n\nasync function checkInbox(webId: string): Promise<void> {\n  const profileDoc = await getDocument(webId);\n  console.log(profileDoc);\n}\n\nwindow.onload = (): void => {\n  console.log(\"document ready\");\n  ((window as unknown) as {\n    solid: {\n      auth: {\n        trackSession: (callback: (session: { webId: string }) => void) => void;\n      };\n    };\n  }).solid.auth.trackSession((session: { webId: string }) => {\n    if (!session) {\n      console.log(\"The user is not logged in\");\n      document.getElementById(\n        \"loginBanner\"\n      ).innerHTML = `<button onclick=\"solid.auth.login(window.location.toString())\">Log in or register</button>`;\n      document.getElementById(\"ui\").style.display = \"none\";\n    } else {\n      console.log(`Logged in as ${session.webId}`);\n      checkInbox(session.webId);\n      document.getElementById(\n        \"loginBanner\"\n      ).innerHTML = `Logged in as ${session.webId} <button onclick=\"solid.auth.logout()\">Log out</button>`;\n      document.getElementById(\"ui\").style.display = \"block\";\n    }\n  });\n};\n"],"file":"index.js"}